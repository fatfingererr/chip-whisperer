# Chip Whisperer

<div align="center">
  <img src="assets/logo.png" alt="Chip Whisperer Logo" width="250"/>

  **åŸºæ–¼é‡åƒ¹åˆ†æçš„ MT5 AI äº¤æ˜“ä»£ç†**

  [![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
  [![Platform](https://img.shields.io/badge/Platform-MetaTrader%205-orange.svg)](https://www.metatrader5.com/)
  [![Language](https://img.shields.io/badge/Language-ç¹é«”ä¸­æ–‡-green.svg)]()
</div>

---

## å°ˆæ¡ˆç°¡ä»‹

Chip Whisperer æ˜¯ä¸€å€‹æ•´åˆ MetaTrader 5 (MT5) çš„æ™ºèƒ½äº¤æ˜“åˆ†æç³»çµ±ï¼Œé‹ç”¨ **Volume Profileï¼ˆé‡åƒ¹åˆ†æï¼‰** æŠ€è¡“è¨ˆç®—é—œéµå•†å“åƒ¹æ ¼æ°´å¹³ã€‚é€é Claude AI å’Œ Telegram Bot æ•´åˆï¼Œæä¾›è‡ªç„¶èªè¨€æŸ¥è©¢ä»‹é¢ï¼Œè®“äº¤æ˜“è€…å¯ä»¥è¼•é¬†ç²å–å¸‚å ´åˆ†æè³‡è¨Šã€‚

### æ ¸å¿ƒç‰¹è‰²

- ğŸ¯ **æ™ºèƒ½é‡åƒ¹åˆ†æ**ï¼šè‡ªå‹•è¨ˆç®— POCã€Value Area ç­‰é—œéµåƒ¹ä½
- ğŸ“ˆ **VPPA è¦–è¦ºåŒ–**ï¼šPlotly äº’å‹•å¼åœ–è¡¨ï¼Œæ”¯æ´ K ç·šåœ–ã€Volume Profileã€POC/VAH/VAL ç·š
- ğŸ¤– **AI é©…å‹•æ±ºç­–**ï¼šæ•´åˆ Claude AIï¼Œæ”¯æ´è‡ªç„¶èªè¨€æŸ¥è©¢
- ğŸ“± **Telegram Bot**ï¼šéš¨æ™‚éš¨åœ°é€éæ‰‹æ©ŸæŸ¥è©¢å¸‚å ´æ•¸æ“š
- ğŸ“Š **å¤šç¨®æŠ€è¡“æŒ‡æ¨™**ï¼šæ”¯æ´ SMAã€RSIã€å¸ƒæ—é€šé“ç­‰
- ğŸ”„ **å³æ™‚æ•¸æ“š**ï¼šç›´æ¥é€£æ¥ MT5 å–å¾—æœ€æ–°å¸‚å ´è³‡æ–™
- ğŸ’¾ **SQLite å¿«å–**ï¼šæœ¬åœ°å¿«å–æ­·å²æ•¸æ“šï¼Œæå‡æŸ¥è©¢æ•ˆç‡
- ğŸŒ **ç¹é«”ä¸­æ–‡**ï¼šå®Œæ•´æ”¯æ´ç¹é«”ä¸­æ–‡ä»‹é¢èˆ‡å›è¦†

---

## ä¸»è¦åŠŸèƒ½

### 1. MT5 æ•¸æ“šæ•´åˆ
- æ”¯æ´å¤šç¨®å•†å“ï¼ˆGOLDã€SILVER ç­‰ï¼‰
- æ”¯æ´å¤šç¨®æ™‚é–“é€±æœŸï¼ˆM1 åˆ° MN1ï¼‰
- è‡ªå‹•é€£ç·šç®¡ç†å’ŒéŒ¯èª¤è™•ç†

### 2. æŠ€è¡“æŒ‡æ¨™è¨ˆç®—
- **Volume Profile Pivot Anchored (VPPA)**ï¼šä»¥ Pivot Point ç‚ºéŒ¨é»çš„é‡åƒ¹åˆ†æ
  - POC (Point of Control)ï¼šæˆäº¤é‡æœ€å¤§çš„åƒ¹æ ¼
  - VAH/VAL (Value Area High/Low)ï¼š68% æˆäº¤é‡å€é–“
  - Volume Profileï¼šæ©«å‘æˆäº¤é‡åˆ†ä½ˆç›´æ–¹åœ–
- **ç§»å‹•å¹³å‡ç·š**ï¼šSMAã€EMA
- **å‹•é‡æŒ‡æ¨™**ï¼šRSIã€MACD

### 3. VPPA è¦–è¦ºåŒ–
- **K ç·šåœ–**ï¼šä¸Šæ¼²ç¶ è‰²ã€ä¸‹è·Œç´…è‰²
- **Pivot Range æ–¹å¡Š**ï¼šæ·ºé»ƒè‰²å¡«å…… + æ·±é»ƒè‰²é‚Šæ¡†
- **Volume Profile**ï¼šValue Area å…§è—è‰²ã€å¤–ç°è‰²
- **POC ç·š**ï¼šç´…è‰²è™›ç·šæ¨™ç¤ºæˆäº¤é‡æœ€å¤§åƒ¹æ ¼
- **VAH/VAL ç·š**ï¼šç¶ è‰²é»ç·šæ¨™ç¤º Value Area ç¯„åœ
- **Pivot Points æ¨™è¨˜**ï¼šHigh ç´…è‰²å‘ä¸‹ä¸‰è§’ã€Low ç¶ è‰²å‘ä¸Šä¸‰è§’
- **PNG è¼¸å‡º**ï¼šæ”¯æ´é«˜è§£æåº¦åœ–ç‰‡å„²å­˜

### 4. Telegram Bot ä»‹é¢
- è‡ªç„¶èªè¨€æŸ¥è©¢ï¼ˆä¾‹å¦‚ï¼šã€Œç›®å‰é»ƒé‡‘çš„ H1 æˆæœ¬åƒ¹ä½åœ¨å“ªè£¡ï¼Ÿã€ï¼‰
- å³æ™‚å›è¦†åˆ†æçµæœ
- æ”¯æ´æŒ‡ä»¤å’Œå°è©±å…©ç¨®æ¨¡å¼

---

## å¿«é€Ÿé–‹å§‹

### ç³»çµ±éœ€æ±‚

- **ä½œæ¥­ç³»çµ±**ï¼šWindows 10/11
- **Python**ï¼š3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MetaTrader 5**ï¼šå·²å®‰è£ä¸¦å¯æ­£å¸¸é‹ä½œ
- **MT5 å¸³æˆ¶**ï¼šæœ‰æ•ˆçš„äº¤æ˜“å¸³æˆ¶ï¼ˆå¯¦ç›¤æˆ–æ¨¡æ“¬ï¼‰

### å®‰è£æ­¥é©Ÿ

```bash
# 1. å…‹éš†å°ˆæ¡ˆ
git clone --recursive https://github.com/fatfingererr/chip-whisperer.git
cd chip-whisperer

# 2. å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv venv
venv\Scripts\activate

# 3. å®‰è£ä¾è³´
pip install -r requirements.txt

# 4. è¨­å®šç’°å¢ƒè®Šæ•¸
copy .env.example .env
# ç·¨è¼¯ .env å¡«å…¥æ‚¨çš„å¸³è™Ÿè³‡è¨Š
```

### åŸºæœ¬é…ç½®

ç·¨è¼¯ `.env` æª”æ¡ˆï¼š

```env
# MT5 é€£ç·šï¼ˆå¿…è¦ï¼‰
MT5_LOGIN=12345678
MT5_PASSWORD=your_password
MT5_SERVER=YourBroker-Server

# Telegram Botï¼ˆå¦‚éœ€ä½¿ç”¨ï¼‰
TELEGRAM_BOT_TOKEN=your_bot_token
ANTHROPIC_API_KEY=your_api_key
```


## ä½¿ç”¨ç¯„ä¾‹

### æ–¹å¼ä¸€ï¼šVPPA åˆ†æèˆ‡è¦–è¦ºåŒ–

```bash
# åˆ†æ GOLD ä¸¦è¼¸å‡º JSON
python scripts/analyze_vppa.py GOLD --output data/gold_vppa.json

# åˆ†æä¸¦ç¹ªè£½åœ–è¡¨
python scripts/analyze_vppa.py GOLD --plot

# è‡ªè¨‚è¼¸å‡ºè·¯å¾‘
python scripts/analyze_vppa.py GOLD --plot --plot-output output/gold_vppa.png

# å®Œæ•´åƒæ•¸ç¯„ä¾‹
python scripts/analyze_vppa.py GOLD \
    --count 2000 \
    --pivot-length 20 \
    --price-levels 49 \
    --plot \
    --plot-output output/gold_vppa.png
```

### æ–¹å¼äºŒï¼šåŸ·è¡Œç¯„ä¾‹ç¨‹å¼

```bash
# å–å¾—æ­·å² K ç·šè³‡æ–™
python examples/fetch_historical_data.py

# Volume Profile åˆ†æ
python examples/demo_volume_profile_data.py

# VPPA è¦–è¦ºåŒ–æ¸¬è©¦
python examples/plot_vppa_basic.py
```

### æ–¹å¼ä¸‰ï¼šTelegram Bot

```bash
# å•Ÿå‹• Bot
python scripts/run_bot.py
```

ç„¶å¾Œåœ¨ Telegram ä¸­èˆ‡ Bot å°è©±ï¼š
- `/start` - é–‹å§‹ä½¿ç”¨
- `/help` - æŸ¥çœ‹èªªæ˜
- `é»ƒé‡‘çš„ H1 æˆæœ¬åƒ¹ä½åœ¨å“ªè£¡ï¼Ÿ` - è‡ªç„¶èªè¨€æŸ¥è©¢

### æ–¹å¼å››ï¼šç¨‹å¼ç¢¼æ•´åˆ

**VPPA è¦–è¦ºåŒ–**ï¼š

```python
from src.visualization import plot_vppa_chart
from src.core.sqlite_cache import SQLiteCacheManager
import json

# è¼‰å…¥ VPPA åˆ†æçµæœ
with open('data/vppa_full_output.json', 'r', encoding='utf-8') as f:
    vppa_data = json.load(f)

# å¾å¿«å–ç²å– K ç·šè³‡æ–™
cache = SQLiteCacheManager('data/candles.db')
df = cache.query_candles('GOLD', 'M1', start_time, end_time)

# ç¹ªè£½åœ–è¡¨
fig = plot_vppa_chart(
    vppa_json=vppa_data,
    candles_df=df,
    output_path='output/vppa_chart.png',
    show_pivot_points=True,
    width=1920,
    height=1080
)
```

**MT5 è³‡æ–™ç²å–**ï¼š

```python
from src.core import MT5Config, ChipWhispererMT5Client, HistoricalDataFetcher

# å»ºç«‹é€£ç·šä¸¦å–å¾—è³‡æ–™
with ChipWhispererMT5Client(MT5Config()) as client:
    fetcher = HistoricalDataFetcher(client)
    df = fetcher.get_candles_latest('GOLD', 'H1', 100)
    print(df.head())
```

### Demo

<div align="center">
  <img src="assets/demo.png" alt="Chip Whisperer Demo 1" width="600"/>

  *Telegram Bot æŸ¥è©¢ç¯„ä¾‹ - Volume Profile åˆ†æ*

  <br/>

  <img src="assets/demo2.png" alt="Chip Whisperer Demo 2" width="600"/>

  *Telegram Bot æŸ¥è©¢ç¯„ä¾‹ - æŠ€è¡“æŒ‡æ¨™è¨ˆç®—*
</div>

### æ ¸å¿ƒæŠ€è¡“

- **MetaTrader5**ï¼šMT5 Python API
- **Anthropic Claude**ï¼šAI è‡ªç„¶èªè¨€è™•ç†
- **python-telegram-bot**ï¼šTelegram Bot æ¡†æ¶
- **Plotly + Kaleido**ï¼šäº’å‹•å¼åœ–è¡¨ç¹ªè£½èˆ‡ PNG è¼¸å‡º
- **pandas / numpy**ï¼šæ•¸æ“šè™•ç†
- **SQLite**ï¼šæœ¬åœ°å¿«å–è³‡æ–™åº«
- **loguru**ï¼šæ—¥èªŒè¨˜éŒ„

## æ–‡æª”è³‡æº

| æ–‡æª”                                      | èªªæ˜                    |
|-------------------------------------------|-------------------------|
| [å¿«é€Ÿé–‹å§‹](docs/quick-start.md)           | å®‰è£å’ŒåŸºæœ¬è¨­å®šæŒ‡å—      |
| [MT5 æ•´åˆèªªæ˜](docs/mt5-integration.md)   | è©³ç´°çš„ MT5 API ä½¿ç”¨èªªæ˜ |
| [Telegram Bot æŒ‡å—](docs/telegram-bot.md) | Bot è¨­å®šå’Œä½¿ç”¨èªªæ˜      |

## è²¢ç»æŒ‡å—

æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ï¼

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä¿®æ”¹ (`git commit -m 'Add AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## é¢¨éšªè²æ˜

**é‡è¦æç¤º**ï¼š

- æœ¬è»Ÿé«”åƒ…ä¾›æ•™è‚²èˆ‡ç ”ç©¶ç”¨é€”
- äº¤æ˜“æ¶‰åŠé‡å¤§é¢¨éšªï¼Œå¯èƒ½å°è‡´æœ¬é‡‘æå¤±
- ä½¿ç”¨æœ¬è»Ÿé«”é€²è¡Œå¯¦éš›äº¤æ˜“å‰ï¼Œè«‹å‹™å¿…ï¼š
  - å……åˆ†äº†è§£ç›¸é—œé¢¨éšª
  - åœ¨æ¨¡æ“¬å¸³æˆ¶ä¸­å……åˆ†æ¸¬è©¦
  - è«®è©¢å°ˆæ¥­è²¡å‹™é¡§å•
- é–‹ç™¼è€…ä¸å°ä½¿ç”¨æœ¬è»Ÿé«”é€ æˆçš„ä»»ä½•æå¤±è² è²¬

## æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Š

## è¯çµ¡æ–¹å¼

- **å°ˆæ¡ˆç¶­è­·è€…**ï¼šfatfingererr
- **GitHub**ï¼š[https://github.com/fatfingererr/chip-whisperer](https://github.com/fatfingererr/chip-whisperer)
- **å•é¡Œå›å ±**ï¼š[Issues](https://github.com/fatfingererr/chip-whisperer/issues)

## è‡´è¬

æ„Ÿè¬ä»¥ä¸‹å°ˆæ¡ˆçš„å•Ÿç™¼èˆ‡æ”¯æŒï¼š

- [Volume Profile, Pivot Anchored by dgtrdr (TradingView)](https://www.tradingview.com/pine/?id=PUB%3B3d8b91f226af41dfa36df2db1c21ae80)
- [ariadng/metatrader-mcp-server (GitHub)](https://github.com/ariadng/metatrader-mcp-server)
- [fatfingererr/.clauder (GitHub)](https://github.com/fatfingererr/.claude)

---

<div align="center">

**å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ â­**

Made with â¤ï¸ by fatfingererr

</div>
